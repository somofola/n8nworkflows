{
  "name": "Send Connection Request to People who comment on a post",
  "nodes": [
    {
      "parameters": {
        "formTitle": "ğŸ”— LinkedIn Post Engagement Automation",
        "formDescription": "Enter your LinkedIn post URL below to automatically send personalized connection requests to people who commented on your post.\n\nâš ï¸ Important: Make sure your LinkedIn account is warmed up and ready for automation.",
        "formFields": {
          "values": [
            {
              "fieldLabel": "LinkedIn Post URL",
              "placeholder": "https://www.linkedin.com/posts/your-post-url...",
              "requiredField": true
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.formTrigger",
      "typeVersion": 2.3,
      "position": [
        2464,
        1344
      ],
      "id": "4016a7b6-3b8a-4ea0-bbd0-54fae5bc38f5",
      "name": "ğŸ“‹ Form: Enter Post URL",
      "webhookId": "7afac8e2-e5da-4ded-93d0-d2e416557569",
      "notes": "ğŸ“ STEP 1: TRIGGER\n\nâœ… What this does:\n- Displays a form to capture the LinkedIn post URL\n- Validates that a URL is provided\n- Starts the workflow execution\n\nğŸ’¡ User Action Required:\n1. Click 'Test workflow' to get the form URL\n2. Open the form URL in your browser\n3. Paste your LinkedIn post URL\n4. Submit the form to start automation\n\nâš™ï¸ Configuration:\n- Form title can be customized\n- Webhook automatically generated\n- No credentials needed"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.linkfinderai.com",
        "authentication": "none",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "Authorization",
              "value": "Bearer {api_key_here}"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "type",
              "value": "linkedin_post_to_reactions"
            },
            {
              "name": "input_data",
              "value": "={{ $json['LinkedIn Post URL'] }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        2688,
        1344
      ],
      "id": "80491b9c-de9c-4a03-bfa6-bb6e8f0948df",
      "name": "LinkFinder AI - Get Post Comments",
      "notes": "ğŸ“ STEP 2: FETCH COMMENTS (REPLACED WITH LINKFINDER AI)\n\nâœ… What this does:\n- Retrieves all comments/reactions from the specified LinkedIn post\n- Uses LinkFinder AI's linkedin_post_to_reactions service\n- Returns array of commenter data\n\nğŸ“Š Output Data Structure:\n- Returns: {\"result\": [array of reaction/comment data]}\n- Access with: $json.result\n\nâš ï¸ Important:\n- Requires LinkFinder AI API key in Authorization header\n- Replace {api_key_here} with your actual API key\n- Returns all interactions on the post\n\nğŸ”„ REPLACEMENT NOTE:\n- Original: ConnectSafely LinkedIn node\n- New: LinkFinder AI HTTP Request\n- Benefit: Unified API, better rate limits"
    },
    {
      "parameters": {
        "fieldToSplitOut": "result",
        "options": {}
      },
      "type": "n8n-nodes-base.splitOut",
      "typeVersion": 1,
      "position": [
        2912,
        1344
      ],
      "id": "b743cab3-157f-4d28-8230-e11228f56e53",
      "name": "ğŸ“¤ Split Comments Array",
      "notes": "ğŸ“ STEP 3: SPLIT DATA (UPDATED FOR LINKFINDER AI)\n\nâœ… What this does:\n- Takes the 'result' array from LinkFinder AI response\n- Splits each comment/reaction into a separate item\n- Prepares data for loop processing\n\nğŸ”§ Technical Details:\n- UPDATED: Now splits 'result' field (LinkFinder AI format)\n- Each item becomes a separate execution flow\n- Enables processing one commenter at a time\n\nğŸ’¡ Data Flow:\nInput: {result: [user1, user2, user3]}\nOutput: 3 separate items, one per user\n\nâš ï¸ CHANGE FROM ORIGINAL:\n- Was: fieldToSplitOut = \"comments\"\n- Now: fieldToSplitOut = \"result\" (LinkFinder AI structure)"
    },
    {
      "parameters": {
        "options": {
          "reset": false
        }
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        3136,
        1344
      ],
      "id": "0a61e901-8878-4a89-b838-d38a877e827b",
      "name": "ğŸ”„ Loop Over Items",
      "notes": "ğŸ“ STEP 4: BATCH PROCESSING LOOP\n\nâœ… What this does:\n- Processes commenters one at a time\n- Creates a loop to handle each person\n- Controls the flow back after each iteration\n\nâš™ï¸ Settings:\n- Reset: FALSE (maintains loop state)\n- Batch size: 1 (processes one at a time)\n\nğŸ” Loop Flow:\n1. Takes next commenter\n2. Processes through workflow\n3. Returns here after Wait node\n4. Continues to next commenter\n5. Completes when all done\n\nğŸ’¡ This ensures rate limiting and sequential processing"
    },
    {
      "parameters": {
        "operation": "checkRelationship",
        "profileId": "={{ $json.publicIdentifier }}"
      },
      "type": "n8n-nodes-connectsafely-ai.connectSafelyLinkedIn",
      "typeVersion": 1,
      "position": [
        3360,
        1344
      ],
      "id": "aeaba049-cc7a-4cfe-8709-a5e8a3fdac6c",
      "name": "ğŸ”— Check Connection Status",
      "credentials": {
        "connectSafelyApi": {
          "id": "vguTjjYyauTnaVdw",
          "name": "Karan ConnectSafely Account"
        }
      },
      "notes": "ğŸ“ STEP 5: RELATIONSHIP CHECK\n\nâœ… What this does:\n- Checks if you're already connected with this person\n- Checks if a connection request is already pending\n- Prevents duplicate connection requests\n\nğŸ“Š Returns:\n- connected: true/false (already connected?)\n- invitationSent: true/false (request pending?)\n- connectionDegree: 1st, 2nd, 3rd degree\n\nâš¡ Why this matters:\n- Avoids LinkedIn spam warnings\n- Saves API calls\n- Prevents awkward duplicate requests\n\nğŸ”’ Uses your ConnectSafely credentials"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "523bc2aa-7f52-476a-932a-68a25c203206",
              "leftValue": "={{ $json.connected }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            },
            {
              "id": "4e7ba588-fe7e-41c6-b1ce-586e78f32e9f",
              "leftValue": "={{ $json.invitationSent }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "false",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3584,
        1344
      ],
      "id": "a3207947-c06b-4478-aa6a-a59206bd5d58",
      "name": "â“ Should Send Request?",
      "notes": "ğŸ“ STEP 6: DECISION LOGIC\n\nâœ… What this does:\n- Filters out people you're already connected with\n- Filters out people with pending requests\n- Only continues for valid new connections\n\nğŸ¯ Conditions (BOTH must be TRUE):\nâœ“ connected = false (NOT already connected)\nâœ“ invitationSent = false (NO pending request)\n\nğŸ”€ Two Paths:\nâ¡ï¸ TRUE (top): Send connection request\nâ¡ï¸ FALSE (bottom): Skip this person, go to next\n\nğŸ’¡ This is your safety filter to prevent:\n- Duplicate requests\n- Spam warnings from LinkedIn\n- Wasted API calls"
    },
    {
      "parameters": {
        "jsCode": "// ================================================\n// ğŸ² SPIN TEXT MESSAGE GENERATOR\n// ================================================\n// This code creates unique, personalized messages\n// for each connection request using spin text syntax\n// ================================================\n\n/**\n * Spin function: Processes {option1|option2|option3} syntax\n * and randomly selects one option from each group\n */\nfunction spin(text) {\n  // Supports nested spintax (improved)\n  while (text.match(/\\{([^{}]+)\\}/)) {\n    text = text.replace(/\\{([^{}]+)\\}/g, (_, group) => {\n      const parts = group.split(\"|\");\n      return parts[Math.floor(Math.random() * parts.length)];\n    });\n  }\n  return text;\n}\n\n// ================================================\n// ğŸ“ SPIN TEXT TEMPLATE\n// ================================================\n// Customize this template to match your style\n// Use {option1|option2|option3} for variations\n// ================================================\n\nconst template = `{Thanks for|Really appreciate|Awesome to see|Loved seeing|Grateful for} {you|you taking a moment to|you recently} {liking|engaging with|reacting to|showing interest in|checking out} {my|our|the} {post|recent post|latest content piece|content|update} on {this topic|that topic|the subject}. \n\n{Would love to|Happy to|Let's definitely|Open to|Excited to} connect {and|so we can|to} {exchange ideas|share insights|continue the conversation|explore potential collaborations|stay connected professionally}. {Always enjoy connecting with|Always excited to meet|Love meeting|Great connecting with} {like-minded people|professionals in the space|people exploring similar topics|others in this domain}.\n\n{Cheers|Best regards|Thanks again|Looking forward|Talk soon|Warm regards},\nKaran\n`;\n\n// ================================================\n// ğŸ”„ PROCESS EACH ITEM\n// ================================================\n\nfor (const item of $input.all()) {\n  \n  // Replace LinkedIn name placeholder\n  const messageWithName = template.replace(\n    \"{{$('Loop Over Items').item.json.authorName}}\",\n    item.json.authorName || \"there\"\n  );\n\n  // Generate randomized final message\n  item.json.generatedMessage = spin(messageWithName);\n  \n  // Add metadata for tracking\n  item.json.messageLength = item.json.generatedMessage.length;\n  item.json.templateUsed = \"default_template_v1\";\n  item.json.generatedAt = new Date().toISOString();\n}\n\nreturn $input.all();\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3808,
        1232
      ],
      "id": "1965066f-ee40-48f1-b64a-a75472462a17",
      "name": "âœï¸ Generate Personalized Message",
      "notes": "ğŸ“ STEP 7: MESSAGE GENERATION\n\nâœ… What this does:\n- Takes the spin text template\n- Randomly selects variations for each {option}\n- Inserts the commenter's first name\n- Creates a unique personalized message\n\nğŸ¯ Example Output:\n\"Thanks for engaging with my recent post! Would love to connect and share insights. Always excited to meet professionals in the space.\n\nBest regards,\nKaran\"\n\nâš™ï¸ Customization:\n- Edit the 'template' variable in the code\n- Add more {variation|options} as needed\n- Change your signature\n- Adjust tone and style\n\nğŸ“ Character Limit:\n- LinkedIn max: 300 characters\n- Current template: ~200-280 characters\n- Message length tracked in output\n\nğŸ’¡ Pro Tip: Test the template with a small batch first!"
    },
    {
      "parameters": {
        "operation": "sendConnectionRequest",
        "accountId": "={{ $json.accountId }}",
        "profileId": "={{ $('ğŸ”„ Loop Over Items').item.json.publicIdentifier }}",
        "profileUrn": "=",
        "customMessage": "=Hi {{ $('ğŸ”„ Loop Over Items').item.json.authorName }},\n\n{{ $json.generatedMessage }}"
      },
      "type": "n8n-nodes-connectsafely-ai.connectSafelyLinkedIn",
      "typeVersion": 1,
      "position": [
        4032,
        1232
      ],
      "id": "e0778400-649e-4ff6-8c8e-975dcf205120",
      "name": "ğŸ“¨ Send Connection Request",
      "credentials": {
        "connectSafelyApi": {
          "id": "vguTjjYyauTnaVdw",
          "name": "Karan ConnectSafely Account"
        }
      },
      "notes": "ğŸ“ STEP 8: SEND CONNECTION REQUEST\n\nâœ… What this does:\n- Sends the personalized connection request\n- Includes the custom message generated in previous step\n- Adds \"Hi [Name]\" greeting automatically\n\nğŸ“¤ Message Structure:\nHi [First Name],\n\n[Generated Message]\n\nğŸ”‘ Required Data:\n- accountId: Your LinkedIn account\n- profileUrn: Target person's profile ID\n- customMessage: The personalized message\n\nâš ï¸ LinkedIn Limits:\n- ~100 connection requests per week (safe)\n- 300 character message limit\n- Accounts need warmup period\n\nâœ… Success indicators:\n- Node turns green\n- Connection request sent\n- Moves to Wait node\n\nâŒ If it fails:\n- Check account status\n- Verify profile is valid\n- Check message length (<300 chars)"
    },
    {
      "parameters": {
        "amount": "={{ Math.floor(Math.random() * (7200 - 3600 + 1)) + 3600 }}"
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        4256,
        1232
      ],
      "id": "1c12d68c-a9e3-4e31-9da4-99d429afa0ec",
      "name": "â±ï¸ Wait (Rate Limiting)",
      "webhookId": "86d93a49-02e9-4d6a-b500-d8f02040e049",
      "notes": "ğŸ“ STEP 9: RATE LIMITING & SAFETY\n\nâœ… What this does:\n- Adds a random delay between connection requests\n- Mimics human behavior patterns\n- Prevents LinkedIn spam detection\n\nâ±ï¸ Wait Time:\n- Minimum: 3,600 seconds (1 hour)\n- Maximum: 7,200 seconds (2 hours)\n- Random between these values\n\nğŸ¤– Why This Matters:\n- LinkedIn monitors automation patterns\n- Human-like timing = safer account\n- Prevents rate limit violations\n- Reduces spam warning risk\n\nâš™ï¸ Customization Options:\n- Decrease for faster processing (risky)\n- Increase for maximum safety\n- Formula: Math.floor(Math.random() * (MAX - MIN + 1)) + MIN\n\nğŸ’¡ Recommended Settings:\n- New accounts: 2-3 hours between requests\n- Warmed accounts: 1-2 hours\n- Premium accounts: 30-60 minutes\n\nğŸ”’ After wait completes, loops back to process next commenter"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "name": "â­ï¸ Skip to Next Person",
      "typeVersion": 1,
      "position": [
        4480,
        1416
      ],
      "id": "c5007758-82d2-4b65-ab64-f145249101c9",
      "notes": "ğŸ“ SKIP NODE (NO ACTION)\n\nâœ… What this does:\n- Acts as a passthrough for skipped profiles\n- Routes rejected items back to loop\n- No actual operation performed\n\nğŸ”€ When this path is taken:\n- Person is already connected\n- Connection request already pending\n- Any other filter condition not met\n\nğŸ’¡ Flow:\nSkipped person â†’ This node â†’ Loop back â†’ Next person\n\nğŸ“Š This helps track:\n- How many people were skipped\n- Reason for skipping (check IF node)\n- Overall workflow efficiency"
    },
    {
      "parameters": {},
      "id": "9811f6f6-4095-4b57-9493-3472c9be7be2",
      "name": "âœ… All Done!",
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        3360,
        1152
      ],
      "notes": "ğŸ“ COMPLETION NODE\n\nâœ… What this means:\n- All commenters have been processed\n- Loop has finished\n- Workflow execution complete\n\nğŸ“Š What happened:\nâœ“ Fetched all comments from post using LinkFinder AI\nâœ“ Checked connection status for each\nâœ“ Sent requests to eligible people\nâœ“ Skipped already connected people\nâœ“ Applied rate limiting between requests\n\nğŸ¯ Next Steps:\n1. Check your LinkedIn for sent requests\n2. Monitor acceptance rate\n3. Review workflow execution data\n4. Adjust message template if needed\n\nğŸ’¡ Pro Tips:\n- Track which messages get best response\n- A/B test different templates\n- Monitor LinkedIn for any warnings\n- Keep warmup schedule consistent"
    },
    {
      "parameters": {
        "content": "## ğŸš€ LinkedIn Connection Request Automation\n\n### ğŸ“‹ Workflow Overview\nThis workflow automatically sends personalized connection requests to people who commented on your LinkedIn post.\n\n---\n\n### âš™ï¸ How It Works:\n\n1ï¸âƒ£ **Form Submission** - You paste a LinkedIn post URL\n2ï¸âƒ£ **Fetch Comments** - LinkFinder AI retrieves all commenters from the post\n3ï¸âƒ£ **Split Data** - Separates each commenter for individual processing\n4ï¸âƒ£ **Loop Processing** - Handles each person one at a time\n5ï¸âƒ£ **Check Status** - Verifies if already connected or request pending\n6ï¸âƒ£ **Filter Logic** - Only proceeds with new potential connections\n7ï¸âƒ£ **Generate Message** - Creates unique personalized message with spin text\n8ï¸âƒ£ **Send Request** - Sends the connection request with custom message\n9ï¸âƒ£ **Rate Limiting** - Waits 1-2 hours before next request (safety)\nğŸ” **Loop Back** - Returns to step 4 for next person\n\n---",
        "height": 986,
        "width": 617,
        "color": 4
      },
      "id": "48135af8-d097-4b59-8ad6-c4e7910aa8fe",
      "name": "Sticky Note",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        1664,
        912
      ]
    },
    {
      "parameters": {
        "content": "## âš¡ QUICK START GUIDE\n\n### 1ï¸âƒ£ Before You Start:\n- [ ] LinkFinder AI API key obtained\n- [ ] API key added to HTTP Request node\n- [ ] ConnectSafely account created (for sending requests)\n- [ ] LinkedIn account warmed up\n- [ ] Account status checked\n\n### 2ï¸âƒ£ First Run:\n1. Click \"Test workflow\" button\n2. Copy the webhook URL that appears\n3. Open URL in browser\n4. Paste your LinkedIn post URL\n5. Submit form\n6. Watch the magic happen! âœ¨\n\n### 3ï¸âƒ£ What to Expect:\n- Takes 1-2 hours per person\n- Progress shown in execution log\n- Green nodes = success\n- Red nodes = check logs\n\n### 4ï¸âƒ£ After First Run:\n- Check LinkedIn for sent requests\n- Verify messages look good\n- Adjust template if needed\n- Scale up gradually\n\n### âš ï¸ First Time Tips:\n- Start with just 5-10 people\n- Test during off-hours\n- Monitor closely\n- Don't rush the process!\n\n### ğŸ”„ REPLACEMENT NOTES:\n- Comment fetching now uses LinkFinder AI\n- More reliable and faster\n- Better rate limits",
        "height": 599.296875,
        "width": 388.5981932773109,
        "color": 6
      },
      "id": "62899ec7-e051-4476-8210-2b19d79525a0",
      "name": "Sticky Note2",
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        4768,
        1008
      ]
    }
  ],
  "pinData": {},
  "connections": {
    "ğŸ“‹ Form: Enter Post URL": {
      "main": [
        [
          {
            "node": "LinkFinder AI - Get Post Comments",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "LinkFinder AI - Get Post Comments": {
      "main": [
        [
          {
            "node": "ğŸ“¤ Split Comments Array",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”„ Loop Over Items": {
      "main": [
        [
          {
            "node": "âœ… All Done!",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "ğŸ”— Check Connection Status",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â­ï¸ Skip to Next Person": {
      "main": [
        [
          {
            "node": "ğŸ”„ Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¤ Split Comments Array": {
      "main": [
        [
          {
            "node": "ğŸ”„ Loop Over Items",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ”— Check Connection Status": {
      "main": [
        [
          {
            "node": "â“ Should Send Request?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â“ Should Send Request?": {
      "main": [
        [
          {
            "node": "âœï¸ Generate Personalized Message",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "â­ï¸ Skip to Next Person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "ğŸ“¨ Send Connection Request": {
      "main": [
        [
          {
            "node": "â±ï¸ Wait (Rate Limiting)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "âœï¸ Generate Personalized Message": {
      "main": [
        [
          {
            "node": "ğŸ“¨ Send Connection Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "â±ï¸ Wait (Rate Limiting)": {
      "main": [
        [
          {
            "node": "â­ï¸ Skip to Next Person",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "bfb9a806-5923-402d-a51c-d0f4f150b6d4",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "236005009187e5f1d11ee86ef51842534d02495609005ae153bbff2e6b50a598"
  },
  "id": "EfHvZwVVyikttUiG",
  "tags": [
    {
      "createdAt": "2025-12-05T08:03:58.741Z",
      "updatedAt": "2025-12-05T08:03:58.741Z",
      "id": "3aoFKPsGhnsUxZTC",
      "name": "Connection Requests"
    },
    {
      "createdAt": "2025-12-05T08:03:58.731Z",
      "updatedAt": "2025-12-05T08:03:58.731Z",
      "id": "U0Es2zqNEFffH3cu",
      "name": "LinkedIn Automation"
    },
    {
      "createdAt": "2025-12-05T08:03:58.750Z",
      "updatedAt": "2025-12-05T08:03:58.750Z",
      "id": "ve0yBVHdTSS8zZT2",
      "name": "ConnectSafely"
    }
  ]
}